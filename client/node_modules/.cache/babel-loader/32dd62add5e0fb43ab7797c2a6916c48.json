{"ast":null,"code":"var _jsxFileName = \"/Users/rayandiouf/Desktop/movie-suggester/client/src/pages/Signup.js\",\n    _s = $RefreshSig$();\n\nimport { useMutation } from '@apollo/client';\nimport React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { ADD_USER } from '../utils/mutation';\nimport Auth from '../utils/auth';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction Signup() {\n  _s();\n\n  const [formState, setFormState] = useState({\n    username: \"\",\n    email: \"\",\n    password: \"\"\n  });\n  const [addUser, {\n    error\n  }] = useMutation(ADD_USER);\n\n  const handleChange = event => {\n    const {\n      name,\n      value\n    } = event.target;\n    setFormState({ ...formState,\n      [name]: value\n    });\n  };\n\n  const handleFormSubmit = async event => {\n    event.preventDefault();\n\n    try {\n      const {\n        data\n      } = await addUser({\n        variables: { ...formState\n        }\n      });\n\n      if (error) {\n        throw new Error(\"something went wrong\");\n      }\n\n      Auth.login(data.addUser.token);\n    } catch (e) {\n      console.error(e);\n    }\n\n    setFormState({\n      username: \"\",\n      email: \"\",\n      password: \"\"\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"loginPage\",\n      onSubmit: handleFormSubmit,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"containerh1\",\n          children: /*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"Sign up\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"inputs\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            placeholder: \"username\",\n            type: \"username\",\n            name: \"username\",\n            value: formState.username,\n            onChange: handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            placeholder: \"email\",\n            type: \"text\",\n            name: \"email\",\n            value: formState.email,\n            onChange: handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"password\",\n            value: formState.password,\n            onChange: handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            children: \"Enter\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"signupBtn\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n}\n\n_s(Signup, \"qAu9jzPIowNCfB/b/4QLlH6hDSM=\", false, function () {\n  return [useMutation];\n});\n\n_c = Signup;\nexport default Signup;\n\nvar _c;\n\n$RefreshReg$(_c, \"Signup\");","map":{"version":3,"sources":["/Users/rayandiouf/Desktop/movie-suggester/client/src/pages/Signup.js"],"names":["useMutation","React","useState","Link","ADD_USER","Auth","Signup","formState","setFormState","username","email","password","addUser","error","handleChange","event","name","value","target","handleFormSubmit","preventDefault","data","variables","Error","login","token","e","console"],"mappings":"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","sourcesContent":["import { useMutation } from '@apollo/client';\nimport React, {useState} from 'react';\nimport {Link} from 'react-router-dom';\nimport { ADD_USER } from '../utils/mutation';\nimport Auth from '../utils/auth'\nfunction Signup (){\n    const [formState, setFormState] = useState({\n        username: \"\",\n        email: \"\",\n        password: \"\",\n      });\n      const [addUser, { error }] = useMutation(ADD_USER);\n\n      const handleChange = (event) => {\n          const { name, value } = event.target;\n\n          setFormState({\n              ...formState,\n              [name]: value,\n          });\n      }\n      const handleFormSubmit = async (event) => {\n          event.preventDefault();\n          try {\n              const {data} = await addUser({\n                  variables: { ...formState }\n              });\n              if(error) {\n                  throw new Error(\"something went wrong\");\n              }\n              Auth.login(data.addUser.token);\n          } catch (e) {\n              console.error(e);\n          }\n          setFormState({\n              username: \"\",\n              email: \"\",\n              password: \"\"\n          })\n      };\n    return (\n        <>\n        <form className=\"loginPage\"\n        onSubmit={handleFormSubmit} \n        >\n            <div className=\"container\">\n                <div className=\"containerh1\">\n                <h1>Sign up</h1>\n                </div>\n                <div className=\"inputs\">\n                <input placeholder=\"username\" type=\"username\" name=\"username\" value={formState.username} onChange={handleChange} />\n                <input placeholder=\"email\" type=\"text\" name=\"email\" value={formState.email} onChange={handleChange}/>\n                <input  type=\"text\" name=\"password\" value={formState.password} onChange={handleChange}/>  \n                <button type=\"submit\">Enter</button>\n                </div>\n                <div className=\"signupBtn\">\n                {/* <Link to=\"/login\">Login Instead</Link> */}\n                </div>\n            </div>\n         </form>\n         </>\n    )\n}\n\nexport default Signup;"]},"metadata":{},"sourceType":"module"}