{"ast":null,"code":"var _jsxFileName = \"/Users/rayandiouf/Desktop/movie-suggester/client/src/pages/Signup.js\",\n    _s = $RefreshSig$();\n\nimport { useMutation } from '@apollo/client';\nimport React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { ADD_USER } from '../utils/mutation';\nimport Auth from '../utils/auth';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Signup() {\n  _s();\n\n  const [formState, setFormState] = useState({\n    username: '',\n    email: '',\n    password: ''\n  });\n  const [addUser, {\n    error\n  }] = useMutation(ADD_USER);\n\n  const handleChange = event => {\n    const {\n      name,\n      value\n    } = event.target;\n    setFormState({ ...formState,\n      [name]: value\n    });\n  };\n\n  const handleFormSubmit = async event => {\n    event.preventDefault();\n\n    try {\n      const {\n        data\n      } = await addUser({\n        variables: { ...formState\n        }\n      });\n      Auth.login(data.addUser.token);\n    } catch (e) {\n      console.error(e);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    className: \"loginPage\",\n    onSubmit: handleFormSubmit,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"containerh1\",\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Sign up\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"inputs\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          placeholder: \"username\",\n          type: \"username\",\n          name: \"username\",\n          value: formState.username,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          placeholder: \"email\",\n          type: \"text\",\n          name: \"email\",\n          value: formState.email,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          placeholder: \"******\",\n          type: \"password\",\n          value: formState.password,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          children: \"Enter\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"signupBtn\",\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/login\",\n          children: \"Login Instead\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Signup, \"k4GzPS1si7YNCkBlMgRD2UAFZ/4=\", false, function () {\n  return [useMutation];\n});\n\n_c = Signup;\nexport default Signup;\n\nvar _c;\n\n$RefreshReg$(_c, \"Signup\");","map":{"version":3,"sources":["/Users/rayandiouf/Desktop/movie-suggester/client/src/pages/Signup.js"],"names":["useMutation","React","useState","Link","ADD_USER","Auth","Signup","formState","setFormState","username","email","password","addUser","error","handleChange","event","name","value","target","handleFormSubmit","preventDefault","data","variables","login","token","e","console"],"mappings":";;;AAAA,SAASA,WAAT,QAA4B,gBAA5B;AACA,OAAOC,KAAP,IAAeC,QAAf,QAA8B,OAA9B;AACA,SAAQC,IAAR,QAAmB,kBAAnB;AACA,SAASC,QAAT,QAAyB,mBAAzB;AACA,OAAOC,IAAP,MAAiB,eAAjB;;;AACA,SAASC,MAAT,GAAkB;AAAA;;AACd,QAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4BN,QAAQ,CAAC;AACvCO,IAAAA,QAAQ,EAAE,EAD6B;AAEvCC,IAAAA,KAAK,EAAE,EAFgC;AAGvCC,IAAAA,QAAQ,EAAE;AAH6B,GAAD,CAA1C;AAKE,QAAM,CAACC,OAAD,EAAU;AAAEC,IAAAA;AAAF,GAAV,IAAuBb,WAAW,CAACI,QAAD,CAAxC;;AAEA,QAAMU,YAAY,GAAIC,KAAD,IAAW;AAC5B,UAAM;AAAEC,MAAAA,IAAF;AAAQC,MAAAA;AAAR,QAAkBF,KAAK,CAACG,MAA9B;AAEAV,IAAAA,YAAY,CAAC,EACT,GAAGD,SADM;AAET,OAACS,IAAD,GAAQC;AAFC,KAAD,CAAZ;AAIH,GAPD;;AAQA,QAAME,gBAAgB,GAAG,MAAMJ,KAAN,IAAgB;AACrCA,IAAAA,KAAK,CAACK,cAAN;;AACA,QAAI;AACA,YAAM;AAACC,QAAAA;AAAD,UAAS,MAAMT,OAAO,CAAC;AACzBU,QAAAA,SAAS,EAAE,EAAE,GAAGf;AAAL;AADc,OAAD,CAA5B;AAGAF,MAAAA,IAAI,CAACkB,KAAL,CAAWF,IAAI,CAACT,OAAL,CAAaY,KAAxB;AACH,KALD,CAKE,OAAOC,CAAP,EAAU;AACRC,MAAAA,OAAO,CAACb,KAAR,CAAcY,CAAd;AACH;AACJ,GAVD;;AAWF,sBACI;AAAM,IAAA,SAAS,EAAC,WAAhB;AACA,IAAA,QAAQ,EAAEN,gBADV;AAAA,2BAGI;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA,8BACI;AAAK,QAAA,SAAS,EAAC,aAAf;AAAA,+BACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA,cADJ,eAII;AAAK,QAAA,SAAS,EAAC,QAAf;AAAA,gCACA;AAAO,UAAA,WAAW,EAAC,UAAnB;AAA8B,UAAA,IAAI,EAAC,UAAnC;AAA8C,UAAA,IAAI,EAAC,UAAnD;AAA8D,UAAA,KAAK,EAAEZ,SAAS,CAACE,QAA/E;AAAyF,UAAA,QAAQ,EAAEK;AAAnG;AAAA;AAAA;AAAA;AAAA,gBADA,eAEA;AAAO,UAAA,WAAW,EAAC,OAAnB;AAA2B,UAAA,IAAI,EAAC,MAAhC;AAAuC,UAAA,IAAI,EAAC,OAA5C;AAAoD,UAAA,KAAK,EAAEP,SAAS,CAACG,KAArE;AAA4E,UAAA,QAAQ,EAAEI;AAAtF;AAAA;AAAA;AAAA;AAAA,gBAFA,eAGA;AAAO,UAAA,WAAW,EAAC,QAAnB;AAA4B,UAAA,IAAI,EAAC,UAAjC;AAA4C,UAAA,KAAK,EAAEP,SAAS,CAACI,QAA7D;AAAuE,UAAA,QAAQ,EAAEG;AAAjF;AAAA;AAAA;AAAA;AAAA,gBAHA,eAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAJA;AAAA;AAAA;AAAA;AAAA;AAAA,cAJJ,eAUI;AAAK,QAAA,SAAS,EAAC,WAAf;AAAA,+BACA,QAAC,IAAD;AAAM,UAAA,EAAE,EAAC,QAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA,cAVJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAHJ;AAAA;AAAA;AAAA;AAAA,UADJ;AAoBH;;GA/CQR,M;UAM0BN,W;;;KAN1BM,M;AAiDT,eAAeA,MAAf","sourcesContent":["import { useMutation } from '@apollo/client';\nimport React, {useState} from 'react';\nimport {Link} from 'react-router-dom';\nimport { ADD_USER } from '../utils/mutation';\nimport Auth from '../utils/auth'\nfunction Signup (){\n    const [formState, setFormState] = useState({\n        username: '',\n        email: '',\n        password: '',\n      });\n      const [addUser, { error }] = useMutation(ADD_USER);\n\n      const handleChange = (event) => {\n          const { name, value } = event.target;\n\n          setFormState({\n              ...formState,\n              [name]: value,\n          });\n      }\n      const handleFormSubmit = async(event) => {\n          event.preventDefault();\n          try {\n              const {data} = await addUser({\n                  variables: { ...formState }\n              });\n              Auth.login(data.addUser.token);\n          } catch (e) {\n              console.error(e);\n          }\n      };\n    return (\n        <form className=\"loginPage\"\n        onSubmit={handleFormSubmit} \n        >\n            <div className=\"container\">\n                <div className=\"containerh1\">\n                <h1>Sign up</h1>\n                </div>\n                <div className=\"inputs\">\n                <input placeholder=\"username\" type=\"username\" name=\"username\" value={formState.username} onChange={handleChange} />\n                <input placeholder=\"email\" type=\"text\" name=\"email\" value={formState.email} onChange={handleChange}/>\n                <input placeholder=\"******\" type=\"password\" value={formState.password} onChange={handleChange}/>  \n                <button>Enter</button>\n                </div>\n                <div className=\"signupBtn\">\n                <Link to=\"/login\">Login Instead</Link>\n                </div>\n            </div>\n         </form>\n    )\n}\n\nexport default Signup;"]},"metadata":{},"sourceType":"module"}